<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1309px" preserveAspectRatio="none" style="width:1546px;height:1309px;background:#FFFFFF;" version="1.1" viewBox="0 0 1546 1309" width="1546px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1123.3716" style="stroke:#181818;stroke-width:1.0;" width="10" x="42.5" y="93.6211"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="246.5" y="116.9121"/><rect fill="#FFFFFF" height="1037.4985" style="stroke:#181818;stroke-width:1.0;" width="10" x="246.5" y="179.4941"/><rect fill="#FFFFFF" height="965.9165" style="stroke:#181818;stroke-width:1.0;" width="10" x="400.5" y="210.7852"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="304.6582"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="273.3672"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1513.5" y="242.0762"/><rect fill="none" height="152.8052" style="stroke:#000000;stroke-width:1.5;" width="390.5" x="311" y="395.2402"/><rect fill="none" height="584.3652" style="stroke:#000000;stroke-width:1.5;" width="617.5" x="301" y="562.0454"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="189" x="311" y="632.6274"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="597.5" x="311" y="754.5005"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="566.5" x="311" y="920.6646"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="588.5" x="311" y="998.2466"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="589.5" x="311" y="1075.8286"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="251" x2="251" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="405" x2="405" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="908" x2="908" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="984" x2="984" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1268.5" x2="1268.5" y1="83.6211" y2="1225.9927"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1518" x2="1518" y1="83.6211" y2="1225.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="80.1074">System User</text><ellipse cx="47.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,21.5 L47.5,48.5 M34.5,29.5 L60.5,29.5 M47.5,48.5 L34.5,63.5 M47.5,48.5 L60.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="1240.1001">System User</text><ellipse cx="47.5" cy="1252.1138" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,1260.1138 L47.5,1287.1138 M34.5,1268.1138 L60.5,1268.1138 M47.5,1287.1138 L34.5,1302.1138 M47.5,1287.1138 L60.5,1302.1138 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="192" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="199" y="72.1074">:ImportBasketsUi</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="192" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="199" y="1247.1001">:ImportBasketsUi</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="321" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="328" y="72.1074">:ImportBasketsController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="321" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="328" y="1247.1001">:ImportBasketsController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="884" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="891" y="72.1074">Entity</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="884" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="891" y="1247.1001">Entity</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="943" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="950" y="72.1074">EntityStore</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="943" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="950" y="1247.1001">EntityStore</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1219.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1226.5" y="72.1074">:Organization</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1219.5" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1226.5" y="1247.1001">:Organization</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="1497" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="1504" y="72.1074">:App</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="1497" y="1224.9927"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="1504" y="1247.1001">:App</text><rect fill="#FFFFFF" height="1123.3716" style="stroke:#181818;stroke-width:1.0;" width="10" x="42.5" y="93.6211"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="246.5" y="116.9121"/><rect fill="#FFFFFF" height="1037.4985" style="stroke:#181818;stroke-width:1.0;" width="10" x="246.5" y="179.4941"/><rect fill="#FFFFFF" height="965.9165" style="stroke:#181818;stroke-width:1.0;" width="10" x="400.5" y="210.7852"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="304.6582"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="273.3672"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1513.5" y="242.0762"/><polygon fill="#181818" points="234.5,112.9121,244.5,116.9121,234.5,120.9121,238.5,116.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="240.5" y1="116.9121" y2="116.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59.5" y="111.6494">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="70.5" y="111.6494">import entities data</text><polygon fill="#181818" points="63.5,144.2031,53.5,148.2031,63.5,152.2031,59.5,148.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="250.5" y1="148.2031" y2="148.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69.5" y="142.9404">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="80.5" y="142.9404">requests data (baskets file)</text><polygon fill="#181818" points="234.5,175.4941,244.5,179.4941,234.5,183.4941,238.5,179.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="240.5" y1="179.4941" y2="179.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59.5" y="174.2314">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="70.5" y="174.2314">inputs requested data</text><polygon fill="#181818" points="388.5,206.7852,398.5,210.7852,388.5,214.7852,392.5,210.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="256.5" x2="394.5" y1="210.7852" y2="210.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="263.5" y="205.5225">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="274.5" y="205.5225">importBaskets(file)</text><polygon fill="#181818" points="1501.5,238.0762,1511.5,242.0762,1501.5,246.0762,1505.5,242.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="1507.5" y1="242.0762" y2="242.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="417.5" y="236.8135">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="428.5" y="236.8135">app = App.getInstance()</text><polygon fill="#181818" points="1284.5,269.3672,1274.5,273.3672,1284.5,277.3672,1280.5,273.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1278.5" x2="1517.5" y1="273.3672" y2="273.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1290.5" y="268.1045">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1301.5" y="268.1045">organization = app.getOrganization()</text><polygon fill="#181818" points="1000.5,300.6582,990.5,304.6582,1000.5,308.6582,996.5,304.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1262.5" y1="304.6582" y2="304.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1006.5" y="299.3955">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1017.5" y="299.3955">entityStore = organization.getEntityStore()</text><polygon fill="#181818" points="421.5,331.9492,411.5,335.9492,421.5,339.9492,417.5,335.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="415.5" x2="983.5" y1="335.9492" y2="335.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="427.5" y="330.6865">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="438.5" y="330.6865">entitiesGraph = entityStore.getEntitiesGraph()</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="367.2402" y2="367.2402"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="367.2402" y2="380.2402"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="380.2402" y2="380.2402"/><polygon fill="#181818" points="421.5,376.2402,411.5,380.2402,421.5,384.2402,417.5,380.2402" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="417.5" y="361.9775">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="428.5" y="361.9775">ArrayList&lt;Product&gt; productList = new ArrayList&lt;&gt;()</text><path d="M311,395.2402 L384,395.2402 L384,404.5313 L374,414.5313 L311,414.5313 L311,395.2402 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="152.8052" style="stroke:#000000;stroke-width:1.5;" width="390.5" x="311" y="395.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="326" y="410.2686">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="399" y="409.1104">[(int i = 2; i &lt; elements.length; i++)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="437.8223" y2="437.8223"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="437.8223" y2="450.8223"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="450.8223" y2="450.8223"/><polygon fill="#181818" points="421.5,446.8223,411.5,450.8223,421.5,454.8223,417.5,450.8223" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="432.5596">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="435.5" y="432.5596">String productName = elements[i]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="482.7544" y2="482.7544"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="482.7544" y2="495.7544"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="495.7544" y2="495.7544"/><polygon fill="#181818" points="421.5,491.7544,411.5,495.7544,421.5,499.7544,417.5,495.7544" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="477.1711">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="435.5" y="477.4917">productName = productName.replace("\</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="8" x="664.5" y="476.8506">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="680.5" y="477.4917">)</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="527.0454" y2="527.0454"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="527.0454" y2="540.0454"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="540.0454" y2="540.0454"/><polygon fill="#181818" points="421.5,536.0454,411.5,540.0454,421.5,544.0454,417.5,540.0454" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="521.7827">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="435.5" y="521.7827">productList.add(new Product(productName))</text><path d="M301,562.0454 L374,562.0454 L374,571.3364 L364,581.3364 L301,581.3364 L301,562.0454 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="584.3652" style="stroke:#000000;stroke-width:1.5;" width="617.5" x="301" y="562.0454"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="316" y="577.0737">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137" x="389" y="575.9155">[while file.hasNextLine()]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="604.6274" y2="604.6274"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="604.6274" y2="617.6274"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="617.6274" y2="617.6274"/><polygon fill="#181818" points="421.5,613.6274,411.5,617.6274,421.5,621.6274,417.5,617.6274" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="599.3647">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="435.5" y="599.3647">Entity entity = entityStore.getEntityByName(entityName)</text><path d="M311,632.6274 L372,632.6274 L372,641.9185 L362,651.9185 L311,651.9185 L311,632.6274 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="189" x="311" y="632.6274"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="326" y="647.6558">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85" x="387" y="646.4976">[(entity == null)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="675.2095" y2="675.2095"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="675.2095" y2="688.2095"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="688.2095" y2="688.2095"/><polygon fill="#181818" points="421.5,684.2095,411.5,688.2095,421.5,692.2095,417.5,688.2095" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="669.9468">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="435.5" y="669.9468">continue</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="726.5005" y2="726.5005"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="726.5005" y2="739.5005"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="739.5005" y2="739.5005"/><polygon fill="#181818" points="421.5,735.5005,411.5,739.5005,421.5,743.5005,417.5,739.5005" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="721.2378">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="435.5" y="721.2378">ArrayList&lt;Pair&lt;Product, Double&gt;&gt; products = new ArrayList&lt;&gt;()</text><path d="M311,754.5005 L384,754.5005 L384,763.7915 L374,773.7915 L311,773.7915 L311,754.5005 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="597.5" x="311" y="754.5005"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="326" y="769.5288">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="399" y="768.3706">[(int i = 2; i &lt; elements.length; i++)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="797.0825" y2="797.0825"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="797.0825" y2="810.0825"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="810.0825" y2="810.0825"/><polygon fill="#181818" points="421.5,806.0825,411.5,810.0825,421.5,814.0825,417.5,810.0825" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="791.8198">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="461" x="435.5" y="791.8198">products.add(new Pair&lt;&gt;(productList.get(i-2), Double.parseDouble(elements[i])))</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="848.3735" y2="848.3735"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="848.3735" y2="861.3735"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="861.3735" y2="861.3735"/><polygon fill="#181818" points="421.5,857.3735,411.5,861.3735,421.5,865.3735,417.5,861.3735" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="843.1108">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="435.5" y="843.1108">Basket basket = new Basket(products)</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="892.6646" y2="892.6646"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="892.6646" y2="905.6646"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="905.6646" y2="905.6646"/><polygon fill="#181818" points="421.5,901.6646,411.5,905.6646,421.5,909.6646,417.5,905.6646" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="887.4019">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="435.5" y="887.4019">char entityType = entityName.charAt(0)</text><path d="M311,920.6646 L372,920.6646 L372,929.9556 L362,939.9556 L311,939.9556 L311,920.6646 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="566.5" x="311" y="920.6646"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="326" y="935.6929">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="387" y="934.5347">[(entityType == 'C')]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="963.2466" y2="963.2466"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="963.2466" y2="976.2466"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="976.2466" y2="976.2466"/><polygon fill="#181818" points="421.5,972.2466,411.5,976.2466,421.5,980.2466,417.5,976.2466" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="957.9839">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="435.5" y="957.9839">((Client) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)</text><path d="M311,998.2466 L372,998.2466 L372,1007.5376 L362,1017.5376 L311,1017.5376 L311,998.2466 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="588.5" x="311" y="998.2466"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="326" y="1013.2749">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="387" y="1012.1167">[(entityType == 'E')]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="1040.8286" y2="1040.8286"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="1040.8286" y2="1053.8286"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="1053.8286" y2="1053.8286"/><polygon fill="#181818" points="421.5,1049.8286,411.5,1053.8286,421.5,1057.8286,417.5,1053.8286" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="1035.5659">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="452" x="435.5" y="1035.5659">((Company) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)</text><path d="M311,1075.8286 L372,1075.8286 L372,1085.1196 L362,1095.1196 L311,1095.1196 L311,1075.8286 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="589.5" x="311" y="1075.8286"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="326" y="1090.8569">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="387" y="1089.6987">[(entityType == 'P')]</text><line style="stroke:#181818;stroke-width:1.0;" x1="410.5" x2="452.5" y1="1118.4106" y2="1118.4106"/><line style="stroke:#181818;stroke-width:1.0;" x1="452.5" x2="452.5" y1="1118.4106" y2="1131.4106"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="452.5" y1="1131.4106" y2="1131.4106"/><polygon fill="#181818" points="421.5,1127.4106,411.5,1131.4106,421.5,1135.4106,417.5,1131.4106" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="1113.1479">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="453" x="435.5" y="1113.1479">((Productor) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)</text><polygon fill="#181818" points="267.5,1172.7017,257.5,1176.7017,267.5,1180.7017,263.5,1176.7017" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="261.5" x2="404.5" y1="1176.7017" y2="1176.7017"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="273.5" y="1171.439">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="291.5" y="1171.439">result</text><polygon fill="#181818" points="63.5,1203.9927,53.5,1207.9927,63.5,1211.9927,59.5,1207.9927" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="245.5" y1="1207.9927" y2="1207.9927"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69.5" y="1202.73">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="87.5" y="1202.73">informs operation success</text><!--MD5=[0703d268c3d676a60d8344fcd6eadf72]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor user as "System User"

participant ":ImportBasketsUi" as ui
participant ":ImportBasketsController" as controller
participant "Entity" as entity
participant "EntityStore" as store
participant ":Organization" as organization
participant ":App" as app

activate user

user -> ui : import entities data
activate ui

ui - -> user : requests data (baskets file)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : importBaskets(file)
activate controller
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> store : entityStore = organization.getEntityStore()
activate store
store -> controller : entitiesGraph = entityStore.getEntitiesGraph()
deactivate store
deactivate organization
controller -> controller :ArrayList<Product> productList = new ArrayList<>()
loop (int i = 2; i < elements.length; i++)
    controller -> controller : String productName = elements[i]
    controller -> controller : productName = productName.replace("\"", "")
    controller -> controller : productList.add(new Product(productName))
end
loop while file.hasNextLine()
   controller -> controller : Entity entity = entityStore.getEntityByName(entityName)
   alt (entity == null)
   controller -> controller : continue
   end
   controller -> controller : ArrayList<Pair<Product, Double>> products = new ArrayList<>()
   loop (int i = 2; i < elements.length; i++)
        controller -> controller : products.add(new Pair<>(productList.get(i-2), Double.parseDouble(elements[i])))
   end
   controller -> controller : Basket basket = new Basket(products)
   controller -> controller : char entityType = entityName.charAt(0)
   alt (entityType == 'C')
   controller -> controller : ((Client) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
   alt (entityType == 'E')
   controller -> controller : ((Company) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
   alt (entityType == 'P')
   controller -> controller : ((Productor) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
end
controller - -> ui : result
deactivate controller
ui - -> user : informs operation success

@enduml

@startuml

autonumber

actor user as "System User"

participant ":ImportBasketsUi" as ui
participant ":ImportBasketsController" as controller
participant "Entity" as entity
participant "EntityStore" as store
participant ":Organization" as organization
participant ":App" as app

activate user

user -> ui : import entities data
activate ui

ui - -> user : requests data (baskets file)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : importBaskets(file)
activate controller
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> store : entityStore = organization.getEntityStore()
activate store
store -> controller : entitiesGraph = entityStore.getEntitiesGraph()
deactivate store
deactivate organization
controller -> controller :ArrayList<Product> productList = new ArrayList<>()
loop (int i = 2; i < elements.length; i++)
    controller -> controller : String productName = elements[i]
    controller -> controller : productName = productName.replace("\"", "")
    controller -> controller : productList.add(new Product(productName))
end
loop while file.hasNextLine()
   controller -> controller : Entity entity = entityStore.getEntityByName(entityName)
   alt (entity == null)
   controller -> controller : continue
   end
   controller -> controller : ArrayList<Pair<Product, Double>> products = new ArrayList<>()
   loop (int i = 2; i < elements.length; i++)
        controller -> controller : products.add(new Pair<>(productList.get(i-2), Double.parseDouble(elements[i])))
   end
   controller -> controller : Basket basket = new Basket(products)
   controller -> controller : char entityType = entityName.charAt(0)
   alt (entityType == 'C')
   controller -> controller : ((Client) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
   alt (entityType == 'E')
   controller -> controller : ((Company) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
   alt (entityType == 'P')
   controller -> controller : ((Productor) entity).getBasketsMap().put(Integer.parseInt(elements[1]), basket)
   end
end
controller - -> ui : result
deactivate controller
ui - -> user : informs operation success

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>