<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2010.6px" preserveAspectRatio="none" style="width:1236px;height:2010px;background:#FFFFFF;" version="1.1" viewBox="0 0 1236 2010" width="1236.6px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1899.1687" style="stroke:#181818;stroke-width:0.6;" width="6" x="40.5" y="56.1727"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="197.1" y="70.1473"/><rect fill="#FFFFFF" height="1847.6449" style="stroke:#181818;stroke-width:0.6;" width="6" x="197.1" y="107.6965"/><rect fill="#FFFFFF" height="1778.1211" style="stroke:#181818;stroke-width:0.6;" width="6" x="511.5" y="126.4711"/><rect fill="#FFFFFF" height="1601.3496" style="stroke:#181818;stroke-width:0.6;" width="6" x="514.5" y="289.268"/><rect fill="#FFFFFF" height="446.543" style="stroke:#181818;stroke-width:0.6;" width="6" x="517.5" y="358.1918"/><rect fill="#FFFFFF" height="1051.3336" style="stroke:#181818;stroke-width:0.6;" width="6" x="517.5" y="839.284"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1067.4" y="164.0203"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1067.4" y="220.3441"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1217.4" y="145.2457"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1217.4" y="201.5695"/><rect fill="none" height="377.1937" style="stroke:#000000;stroke-width:0.8999999999999999;" width="444.6" x="390.3" y="423.341"/><rect fill="none" height="330.6445" style="stroke:#000000;stroke-width:0.8999999999999999;" width="432.6" x="396.3" y="465.6902"/><rect fill="none" height="38.1492" style="stroke:#000000;stroke-width:0.8999999999999999;" width="279.6" x="408.3" y="534.6141"/><rect fill="none" height="84.6984" style="stroke:#000000;stroke-width:0.8999999999999999;" width="333" x="402.3" y="607.7379"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="321" x="408.3" y="623.5125"/><rect fill="none" height="91.2984" style="stroke:#000000;stroke-width:0.8999999999999999;" width="333.6" x="408.3" y="700.8363"/><rect fill="none" height="955.4098" style="stroke:#000000;stroke-width:0.8999999999999999;" width="546.6" x="390.3" y="931.0078"/><rect fill="none" height="237.5461" style="stroke:#000000;stroke-width:0.8999999999999999;" width="534.6" x="396.3" y="999.9316"/><rect fill="none" height="164.4223" style="stroke:#000000;stroke-width:0.8999999999999999;" width="522.6" x="402.3" y="1068.8555"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="510.6" x="408.3" y="1164.3539"/><rect fill="none" height="609.7652" style="stroke:#000000;stroke-width:0.8999999999999999;" width="375" x="396.3" y="1245.8777"/><rect fill="none" height="58.1238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="278.4" x="402.3" y="1314.8016"/><rect fill="none" height="38.1492" style="stroke:#000000;stroke-width:0.8999999999999999;" width="266.4" x="408.3" y="1330.5762"/><rect fill="none" height="416.9684" style="stroke:#000000;stroke-width:0.8999999999999999;" width="363" x="402.3" y="1434.4746"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="315.6" x="408.3" y="1609.6969"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="234" x="408.3" y="1682.8207"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="305.4" x="408.3" y="1755.9445"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="43.2" x2="43.2" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="200.1" x2="200.1" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="514.5" x2="514.5" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="964.2" x2="964.2" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="1009.8" x2="1009.8" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="1070.4" x2="1070.4" y1="50.1727" y2="1960.7414"/><line style="stroke:#181818;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="1220.1" x2="1220.1" y1="50.1727" y2="1960.7414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="47.4" x="18" y="48.0645">System User</text><ellipse cx="43.5" cy="8.1" fill="#E2E2F0" rx="4.8" ry="4.8" style="stroke:#181818;stroke-width:0.3;"/><path d="M43.5,12.9 L43.5,29.1 M35.7,17.7 L51.3,17.7 M43.5,29.1 L35.7,38.1 M43.5,29.1 L51.3,38.1 " fill="none" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="47.4" x="18" y="1969.2059">System User</text><ellipse cx="43.5" cy="1976.4141" fill="#E2E2F0" rx="4.8" ry="4.8" style="stroke:#181818;stroke-width:0.3;"/><path d="M43.5,1981.2141 L43.5,1997.4141 M35.7,1986.0141 L51.3,1986.0141 M43.5,1997.4141 L35.7,2006.4141 M43.5,1997.4141 L51.3,2006.4141 " fill="none" style="stroke:#181818;stroke-width:0.3;"/><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="170.4" x="114.9" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="162" x="119.1" y="43.2645">:GenerateExpeditionsWithoutRestrictionsUi</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="170.4" x="114.9" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="162" x="119.1" y="1973.4059">:GenerateExpeditionsWithoutRestrictionsUi</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="200.4" x="414.3" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="192" x="418.5" y="43.2645">:GenerateExpeditionsWithoutRestrictionsController</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="200.4" x="414.3" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="192" x="418.5" y="1973.4059">:GenerateExpeditionsWithoutRestrictionsController</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="29.4" x="949.8" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="21" x="954" y="43.2645">Entity</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="29.4" x="949.8" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="21" x="954" y="1973.4059">Entity</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="49.8" x="985.2" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="41.4" x="989.4" y="43.2645">EntityStore</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="49.8" x="985.2" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="41.4" x="989.4" y="1973.4059">EntityStore</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="58.8" x="1041" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="50.4" x="1045.2" y="43.2645">:Organization</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="58.8" x="1041" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="50.4" x="1045.2" y="1973.4059">:Organization</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="25.8" x="1207.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="17.4" x="1211.7" y="43.2645">:App</text><rect fill="#E2E2F0" height="19.5727" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="25.8" x="1207.5" y="1960.1414"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="17.4" x="1211.7" y="1973.4059">:App</text><rect fill="#FFFFFF" height="1899.1687" style="stroke:#181818;stroke-width:0.6;" width="6" x="40.5" y="56.1727"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="197.1" y="70.1473"/><rect fill="#FFFFFF" height="1847.6449" style="stroke:#181818;stroke-width:0.6;" width="6" x="197.1" y="107.6965"/><rect fill="#FFFFFF" height="1778.1211" style="stroke:#181818;stroke-width:0.6;" width="6" x="511.5" y="126.4711"/><rect fill="#FFFFFF" height="1601.3496" style="stroke:#181818;stroke-width:0.6;" width="6" x="514.5" y="289.268"/><rect fill="#FFFFFF" height="446.543" style="stroke:#181818;stroke-width:0.6;" width="6" x="517.5" y="358.1918"/><rect fill="#FFFFFF" height="1051.3336" style="stroke:#181818;stroke-width:0.6;" width="6" x="517.5" y="839.284"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1067.4" y="164.0203"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1067.4" y="220.3441"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1217.4" y="145.2457"/><rect fill="#FFFFFF" height="18.7746" style="stroke:#181818;stroke-width:0.6;" width="6" x="1217.4" y="201.5695"/><polygon fill="#181818" points="189.9,67.7473,195.9,70.1473,189.9,72.5473,192.3,70.1473" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="46.5" x2="193.5" y1="70.1473" y2="70.1473"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="50.7" y="66.9896">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="132.6" x="57.3" y="66.9896">requests to generate an expedition list</text><polygon fill="#181818" points="53.1,86.5219,47.1,88.9219,53.1,91.3219,50.7,88.9219" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="49.5" x2="199.5" y1="88.9219" y2="88.9219"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="56.7" y="85.7643">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="67.2" x="63.3" y="85.7643">requests data (day)</text><polygon fill="#181818" points="189.9,105.2965,195.9,107.6965,189.9,110.0965,192.3,107.6965" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="46.5" x2="193.5" y1="107.6965" y2="107.6965"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="50.7" y="104.5389">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="75" x="57.3" y="104.5389">inputs requested data</text><polygon fill="#181818" points="504.3,124.0711,510.3,126.4711,504.3,128.8711,506.7,126.4711" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="203.1" x2="507.9" y1="126.4711" y2="126.4711"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="207.3" y="123.3135">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="89.4" x="213.9" y="123.3135">calculateExpeditions(day)</text><polygon fill="#181818" points="1210.2,142.8457,1216.2,145.2457,1210.2,147.6457,1212.6,145.2457" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="517.5" x2="1213.8" y1="145.2457" y2="145.2457"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="521.7" y="142.0881">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="83.4" x="528.3" y="142.0881">app = App.getInstance()</text><polygon fill="#181818" points="1080,161.6203,1074,164.0203,1080,166.4203,1077.6,164.0203" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="1076.4" x2="1219.8" y1="164.0203" y2="164.0203"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="1083.6" y="160.8627">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="126" x="1090.2" y="160.8627">organization = app.getOrganization()</text><polygon fill="#181818" points="524.1,180.3949,518.1,182.7949,524.1,185.1949,521.7,182.7949" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="520.5" x2="1069.8" y1="182.7949" y2="182.7949"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="527.7" y="179.6373">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="146.4" x="534.3" y="179.6373">entityStore = organization.getEntityStore()</text><polygon fill="#181818" points="1210.2,199.1695,1216.2,201.5695,1210.2,203.9695,1212.6,201.5695" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="517.5" x2="1213.8" y1="201.5695" y2="201.5695"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="521.7" y="198.4119">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="83.4" x="528.3" y="198.4119">app = App.getInstance()</text><polygon fill="#181818" points="1080,217.9441,1074,220.3441,1080,222.7441,1077.6,220.3441" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="1076.4" x2="1219.8" y1="220.3441" y2="220.3441"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="1083.6" y="217.1865">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="126" x="1090.2" y="217.1865">organization = app.getOrganization()</text><polygon fill="#181818" points="524.1,236.7188,518.1,239.1187,524.1,241.5187,521.7,239.1187" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="520.5" x2="1069.8" y1="239.1187" y2="239.1187"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="235.9611">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="178.8" x="538.5" y="235.9611">expeditionStore = organization.getExpeditionStore()</text><line style="stroke:#181818;stroke-width:0.6;" x1="517.5" x2="542.7" y1="257.8934" y2="257.8934"/><line style="stroke:#181818;stroke-width:0.6;" x1="542.7" x2="542.7" y1="257.8934" y2="265.6934"/><line style="stroke:#181818;stroke-width:0.6;" x1="518.1" x2="542.7" y1="265.6934" y2="265.6934"/><polygon fill="#181818" points="524.1,263.2934,518.1,265.6934,524.1,268.0934,521.7,265.6934" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="521.7" y="254.7357">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="198.6" x="532.5" y="254.7357">expeditionStore.getNoRestrictionsExpeditionMap().clear()</text><line style="stroke:#181818;stroke-width:0.6;" x1="517.5" x2="545.7" y1="281.468" y2="281.468"/><line style="stroke:#181818;stroke-width:0.6;" x1="545.7" x2="545.7" y1="281.468" y2="289.268"/><line style="stroke:#181818;stroke-width:0.6;" x1="521.1" x2="545.7" y1="289.268" y2="289.268"/><polygon fill="#181818" points="527.1,286.868,521.1,289.268,527.1,291.668,524.7,289.268" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.7" y="278.3104">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="130.2" x="535.5" y="278.3104">deliverAllProductsAndOrdersToHubs()</text><line style="stroke:#181818;stroke-width:0.6;" x1="520.5" x2="545.7" y1="311.0426" y2="311.0426"/><line style="stroke:#181818;stroke-width:0.6;" x1="545.7" x2="545.7" y1="311.0426" y2="318.8426"/><line style="stroke:#181818;stroke-width:0.6;" x1="521.1" x2="545.7" y1="318.8426" y2="318.8426"/><polygon fill="#181818" points="527.1,316.4426,521.1,318.8426,527.1,321.2426,524.7,318.8426" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.7" y="307.885">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="210.6" x="535.5" y="307.885">List&lt;Productor&gt; productors = entityStore.getProductorsList()</text><line style="stroke:#181818;stroke-width:0.6;" x1="520.5" x2="548.7" y1="350.3918" y2="350.3918"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="350.3918" y2="358.1918"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="358.1918" y2="358.1918"/><polygon fill="#181818" points="530.1,355.7918,524.1,358.1918,530.1,360.5918,527.7,358.1918" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="347.2342">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="112.2" x="538.5" y="347.2342">deliverProductsToHub(productor)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="379.9664" y2="379.9664"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="379.9664" y2="387.7664"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="387.7664" y2="387.7664"/><polygon fill="#181818" points="530.1,385.3664,524.1,387.7664,530.1,390.1664,527.7,387.7664" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="376.8088">15</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="418.8" x="538.5" y="376.8088">TreeMap&lt;Integer, List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt;&gt; stockMap = globalProductStore.getStockMap()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="406.541" y2="406.541"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="406.541" y2="414.341"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="414.341" y2="414.341"/><polygon fill="#181818" points="530.1,411.941,524.1,414.341,530.1,416.741,527.7,414.341" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="403.3834">16</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="241.2" x="538.5" y="403.3834">TreeMap&lt;Integer, Basket&gt; basketsMap = productor.getBasketsMap()</text><path d="M390.3,423.341 L434.1,423.341 L434.1,428.9156 L428.1,434.9156 L390.3,434.9156 L390.3,423.341 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="377.1937" style="stroke:#000000;stroke-width:0.8999999999999999;" width="444.6" x="390.3" y="423.341"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="399.3" y="432.358">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="146.4" x="443.1" y="431.6631">[for (Integer integer : basketsMap.keySet())]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="448.8902" y2="448.8902"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="448.8902" y2="456.6902"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="456.6902" y2="456.6902"/><polygon fill="#181818" points="530.1,454.2902,524.1,456.6902,530.1,459.0902,527.7,456.6902" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="445.7326">17</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="144" x="538.5" y="445.7326">Basket basket = basketsMap.get(integer)</text><path d="M396.3,465.6902 L440.1,465.6902 L440.1,471.2648 L434.1,477.2648 L396.3,477.2648 L396.3,465.6902 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="330.6445" style="stroke:#000000;stroke-width:0.8999999999999999;" width="432.6" x="396.3" y="465.6902"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="405.3" y="474.7072">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="171.6" x="449.1" y="474.0123">[(Pair&lt;Product, Double&gt; pair : basket.getProducts())]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="491.2395" y2="491.2395"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="491.2395" y2="499.0395"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="499.0395" y2="499.0395"/><polygon fill="#181818" points="530.1,496.6395,524.1,499.0395,530.1,501.4395,527.7,499.0395" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="488.0818">18</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="97.2" x="538.5" y="488.0818">Product product = pair.first()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="517.8141" y2="517.8141"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="517.8141" y2="525.6141"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="525.6141" y2="525.6141"/><polygon fill="#181818" points="530.1,523.2141,524.1,525.6141,530.1,528.0141,527.7,525.6141" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="514.6564">19</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="108.6" x="538.5" y="514.6564">Double quantity = pair.second()</text><path d="M408.3,534.6141 L444.9,534.6141 L444.9,540.1887 L438.9,546.1887 L408.3,546.1887 L408.3,534.6141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="38.1492" style="stroke:#000000;stroke-width:0.8999999999999999;" width="279.6" x="408.3" y="534.6141"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="543.6311">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="114.6" x="453.9" y="542.9361">[(!stockMap.containsKey(integer))]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="560.1633" y2="560.1633"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="560.1633" y2="567.9633"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="567.9633" y2="567.9633"/><polygon fill="#181818" points="530.1,565.5633,524.1,567.9633,530.1,570.3633,527.7,567.9633" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="557.0057">20</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="142.2" x="538.5" y="557.0057">stockMap.put(integer, new ArrayList&lt;&gt;())</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="590.9379" y2="590.9379"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="590.9379" y2="598.7379"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="598.7379" y2="598.7379"/><polygon fill="#181818" points="530.1,596.3379,524.1,598.7379,530.1,601.1379,527.7,598.7379" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="587.7803">21</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="283.2" x="538.5" y="587.7803">List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt; list = stockMap.get(integer)</text><path d="M402.3,607.7379 L446.1,607.7379 L446.1,613.3125 L440.1,619.3125 L402.3,619.3125 L402.3,607.7379 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="84.6984" style="stroke:#000000;stroke-width:0.8999999999999999;" width="333" x="402.3" y="607.7379"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="411.3" y="616.7549">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="202.8" x="455.1" y="616.06">[for (Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt; pair1 : list)]</text><path d="M408.3,623.5125 L444.9,623.5125 L444.9,629.0871 L438.9,635.0871 L408.3,635.0871 L408.3,623.5125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="321" x="408.3" y="623.5125"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="632.5295">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="100.8" x="453.9" y="631.8346">[(pair1.first().equals(product))]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="649.0617" y2="649.0617"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="649.0617" y2="656.8617"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="656.8617" y2="656.8617"/><polygon fill="#181818" points="530.1,654.4617,524.1,656.8617,530.1,659.2617,527.7,656.8617" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="645.9041">22</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="183.6" x="538.5" y="645.9041">List&lt;Pair&lt;Double, Productor&gt;&gt; list1 = pair1.second()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="675.6363" y2="675.6363"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="675.6363" y2="683.4363"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="683.4363" y2="683.4363"/><polygon fill="#181818" points="530.1,681.0363,524.1,683.4363,530.1,685.8363,527.7,683.4363" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="672.4787">23</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="143.4" x="538.5" y="672.4787">list1.add(new Pair&lt;&gt;(quantity, productor))</text><path d="M408.3,700.8363 L444.9,700.8363 L444.9,706.4109 L438.9,712.4109 L408.3,712.4109 L408.3,700.8363 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="91.2984" style="stroke:#000000;stroke-width:0.8999999999999999;" width="333.6" x="408.3" y="700.8363"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="709.8533">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="30.6" x="453.9" y="709.1584">[(!found)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="726.3855" y2="726.3855"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="726.3855" y2="734.1855"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="734.1855" y2="734.1855"/><polygon fill="#181818" points="530.1,731.7855,524.1,734.1855,530.1,736.5855,527.7,734.1855" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="723.2279">24</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="196.2" x="538.5" y="723.2279">List&lt;Pair&lt;Double, Productor&gt;&gt; list1 = new ArrayList&lt;&gt;()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="752.9602" y2="752.9602"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="752.9602" y2="760.7602"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="760.7602" y2="760.7602"/><polygon fill="#181818" points="530.1,758.3602,524.1,760.7602,530.1,763.1602,527.7,760.7602" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="749.8025">25</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="143.4" x="538.5" y="749.8025">list1.add(new Pair&lt;&gt;(quantity, productor))</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="779.5348" y2="779.5348"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="779.5348" y2="787.3348"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="787.3348" y2="787.3348"/><polygon fill="#181818" points="530.1,784.9348,524.1,787.3348,530.1,789.7348,527.7,787.3348" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="776.3771">26</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="119.4" x="538.5" y="776.3771">list.add(new Pair&lt;&gt;(product, list1))</text><line style="stroke:#181818;stroke-width:0.6;" x1="520.5" x2="548.7" y1="831.484" y2="831.484"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="831.484" y2="839.284"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="839.284" y2="839.284"/><polygon fill="#181818" points="530.1,836.884,524.1,839.284,530.1,841.684,527.7,839.284" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="828.3264">27</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="159" x="538.5" y="828.3264">Expedition expedition = calculateDayOrders(i)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="861.0586" y2="861.0586"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="861.0586" y2="868.8586"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="868.8586" y2="868.8586"/><polygon fill="#181818" points="530.1,866.4586,524.1,868.8586,530.1,871.2586,527.7,868.8586" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="857.901">28</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="154.2" x="538.5" y="857.901">Expedition expedition = new Expedition(day)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="887.6332" y2="887.6332"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="887.6332" y2="895.4332"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="895.4332" y2="895.4332"/><polygon fill="#181818" points="530.1,893.0332,524.1,895.4332,530.1,897.8332,527.7,895.4332" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="884.4756">29</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="402.6" x="538.5" y="884.4756">TreeMap&lt;Integer, List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Entity&gt;&gt;&gt;&gt;&gt; orderMap = globalProductStore.getOrderMap()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="914.2078" y2="914.2078"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="914.2078" y2="922.0078"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="922.0078" y2="922.0078"/><polygon fill="#181818" points="530.1,919.6078,524.1,922.0078,530.1,924.4078,527.7,922.0078" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="911.0502">30</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="418.8" x="538.5" y="911.0502">TreeMap&lt;Integer, List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt;&gt; stockMap = globalProductStore.getStockMap()</text><path d="M390.3,931.0078 L426.9,931.0078 L426.9,936.5824 L420.9,942.5824 L390.3,942.5824 L390.3,931.0078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="955.4098" style="stroke:#000000;stroke-width:0.8999999999999999;" width="546.6" x="390.3" y="931.0078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="399.3" y="940.0248">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="100.2" x="435.9" y="939.3299">[(orderMap.containsKey(day))]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="956.557" y2="956.557"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="956.557" y2="964.357"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="964.357" y2="964.357"/><polygon fill="#181818" points="530.1,961.957,524.1,964.357,530.1,966.757,527.7,964.357" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="953.3994">31</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="283.2" x="538.5" y="953.3994">List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Entity&gt;&gt;&gt;&gt; dayOrders = orderMap.get(day)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="983.1316" y2="983.1316"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="983.1316" y2="990.9316"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="990.9316" y2="990.9316"/><polygon fill="#181818" points="530.1,988.5316,524.1,990.9316,530.1,993.3316,527.7,990.9316" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="979.974">32</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="299.4" x="538.5" y="979.974">List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt; dayStocks = stockMap.get(day)</text><path d="M396.3,999.9316 L432.9,999.9316 L432.9,1005.5062 L426.9,1011.5062 L396.3,1011.5062 L396.3,999.9316 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="237.5461" style="stroke:#000000;stroke-width:0.8999999999999999;" width="534.6" x="396.3" y="999.9316"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="405.3" y="1008.9486">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="31.8" x="441.9" y="1008.2537">[(day &gt; 2)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1025.4809" y2="1025.4809"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1025.4809" y2="1033.2809"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1033.2809" y2="1033.2809"/><polygon fill="#181818" points="530.1,1030.8809,524.1,1033.2809,530.1,1035.6809,527.7,1033.2809" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1022.3232">33</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="382.2" x="538.5" y="1022.3232">List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt; dayStocksDayBeforeYesterday = stockMap.get(day - 2)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1052.0555" y2="1052.0555"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1052.0555" y2="1059.8555"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1059.8555" y2="1059.8555"/><polygon fill="#181818" points="530.1,1057.4555,524.1,1059.8555,530.1,1062.2555,527.7,1059.8555" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1048.8979">34</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="346.2" x="538.5" y="1048.8979">List&lt;Pair&lt;Product, List&lt;Pair&lt;Double, Productor&gt;&gt;&gt;&gt; dayStocksYesterday = stockMap.get(day - 1)</text><path d="M402.3,1068.8555 L446.1,1068.8555 L446.1,1074.4301 L440.1,1080.4301 L402.3,1080.4301 L402.3,1068.8555 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="164.4223" style="stroke:#000000;stroke-width:0.8999999999999999;" width="522.6" x="402.3" y="1068.8555"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="411.3" y="1077.8725">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="117.6" x="455.1" y="1077.1775">[(int y = 0; y &lt; dayStocks.size(); y++)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1094.4047" y2="1094.4047"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1094.4047" y2="1102.2047"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1102.2047" y2="1102.2047"/><polygon fill="#181818" points="530.1,1099.8047,524.1,1102.2047,530.1,1104.6047,527.7,1102.2047" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1091.2471">35</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="309.6" x="538.5" y="1091.2471">List&lt;Pair&lt;Double, Productor&gt;&gt; additionProducts1 = dayStocksYesterday.get(y).second()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1120.9793" y2="1120.9793"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1120.9793" y2="1128.7793"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1128.7793" y2="1128.7793"/><polygon fill="#181818" points="530.1,1126.3793,524.1,1128.7793,530.1,1131.1793,527.7,1128.7793" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1117.8217">36</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="345.6" x="538.5" y="1117.8217">List&lt;Pair&lt;Double, Productor&gt;&gt; additionProducts2 = dayStocksDayBeforeYesterday.get(y).second()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1147.5539" y2="1147.5539"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1147.5539" y2="1155.3539"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1155.3539" y2="1155.3539"/><polygon fill="#181818" points="530.1,1152.9539,524.1,1155.3539,530.1,1157.7539,527.7,1155.3539" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1144.3963">37</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="264" x="538.5" y="1144.3963">List&lt;Pair&lt;Double, Productor&gt;&gt; addedProducts = dayStocks.get(y).second()</text><path d="M408.3,1164.3539 L452.1,1164.3539 L452.1,1169.9285 L446.1,1175.9285 L408.3,1175.9285 L408.3,1164.3539 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="510.6" x="408.3" y="1164.3539"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="417.3" y="1173.3709">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="133.8" x="461.1" y="1172.676">[(int z = 0; z &lt; addedProducts.size(); z++)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1189.9031" y2="1189.9031"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1189.9031" y2="1197.7031"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1197.7031" y2="1197.7031"/><polygon fill="#181818" points="530.1,1195.3031,524.1,1197.7031,530.1,1200.1031,527.7,1197.7031" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1186.7455">38</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="373.2" x="538.5" y="1186.7455">Double sum = additionProducts1.get(z).first() + additionProducts2.get(z).first() + addedProducts.get(z).first()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1216.4777" y2="1216.4777"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1216.4777" y2="1224.2777"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1224.2777" y2="1224.2777"/><polygon fill="#181818" points="530.1,1221.8777,524.1,1224.2777,530.1,1226.6777,527.7,1224.2777" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1213.3201">39</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="123" x="538.5" y="1213.3201">addedProducts.get(z).setFirst(sum)</text><path d="M396.3,1245.8777 L440.1,1245.8777 L440.1,1251.4523 L434.1,1257.4523 L396.3,1257.4523 L396.3,1245.8777 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="609.7652" style="stroke:#000000;stroke-width:0.8999999999999999;" width="375" x="396.3" y="1245.8777"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="405.3" y="1254.8947">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="217.2" x="449.1" y="1254.1998">[for (Pair&lt;Product, List&lt;Pair&lt;Double, Entity&gt;&gt;&gt; orders: dayOrders)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1271.427" y2="1271.427"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1271.427" y2="1279.227"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1279.227" y2="1279.227"/><polygon fill="#181818" points="530.1,1276.827,524.1,1279.227,530.1,1281.627,527.7,1279.227" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1268.2693">40</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="211.8" x="538.5" y="1268.2693">List&lt;Pair&lt;Double, Productor&gt;&gt; products = new ArrayList&lt;&gt;()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1298.0016" y2="1298.0016"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1298.0016" y2="1305.8016"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1305.8016" y2="1305.8016"/><polygon fill="#181818" points="530.1,1303.4016,524.1,1305.8016,530.1,1308.2016,527.7,1305.8016" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1294.8439">41</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="106.2" x="538.5" y="1294.8439">Product product = orders.first()</text><path d="M402.3,1314.8016 L446.1,1314.8016 L446.1,1320.3762 L440.1,1326.3762 L402.3,1326.3762 L402.3,1314.8016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="58.1238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="278.4" x="402.3" y="1314.8016"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="411.3" y="1323.8186">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="123.6" x="455.1" y="1323.1236">[for (int j = 0; j &lt; dayStocks.size(); j++)]</text><path d="M408.3,1330.5762 L444.9,1330.5762 L444.9,1336.1508 L438.9,1342.1508 L408.3,1342.1508 L408.3,1330.5762 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="38.1492" style="stroke:#000000;stroke-width:0.8999999999999999;" width="266.4" x="408.3" y="1330.5762"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="1339.5932">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="138" x="453.9" y="1338.8982">[(dayStocks.get(j).first().equals(product))]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1356.1254" y2="1356.1254"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1356.1254" y2="1363.9254"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1363.9254" y2="1363.9254"/><polygon fill="#181818" points="530.1,1361.5254,524.1,1363.9254,530.1,1366.3254,527.7,1363.9254" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1352.9678">42</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="129" x="538.5" y="1352.9678">products = dayStocks.get(j).second()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1391.1" y2="1391.1"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1391.1" y2="1398.9"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1398.9" y2="1398.9"/><polygon fill="#181818" points="530.1,1396.5,524.1,1398.9,530.1,1401.3,527.7,1398.9" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1387.9424">43</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="219.6" x="538.5" y="1387.9424">Collections.sort(products, Comparator.comparing(p -&gt; -p.first()))</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1417.6746" y2="1417.6746"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1417.6746" y2="1425.4746"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1425.4746" y2="1425.4746"/><polygon fill="#181818" points="530.1,1423.0746,524.1,1425.4746,530.1,1427.8746,527.7,1425.4746" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1414.517">44</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="210" x="538.5" y="1414.517">List&lt;Pair&lt;Double, Entity&gt;&gt; productOrders = orders.second()</text><path d="M402.3,1434.4746 L446.1,1434.4746 L446.1,1440.0492 L440.1,1446.0492 L402.3,1446.0492 L402.3,1434.4746 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="416.9684" style="stroke:#000000;stroke-width:0.8999999999999999;" width="363" x="402.3" y="1434.4746"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="411.3" y="1443.4916">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="138.6" x="455.1" y="1442.7967">[for (int i = 0; i &lt; productOrders.size(); i++)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1460.0238" y2="1460.0238"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1460.0238" y2="1467.8238"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1467.8238" y2="1467.8238"/><polygon fill="#181818" points="530.1,1465.4238,524.1,1467.8238,530.1,1470.2238,527.7,1467.8238" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1456.8662">45</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="171" x="538.5" y="1456.8662">Pair&lt;Double, Entity&gt; order = productOrders.get(i)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1486.5984" y2="1486.5984"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1486.5984" y2="1494.3984"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1494.3984" y2="1494.3984"/><polygon fill="#181818" points="530.1,1491.9984,524.1,1494.3984,530.1,1496.7984,527.7,1494.3984" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1483.4408">46</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="99.6" x="538.5" y="1483.4408">double quantity = order.first()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1513.173" y2="1513.173"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1513.173" y2="1520.973"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1520.973" y2="1520.973"/><polygon fill="#181818" points="530.1,1518.573,524.1,1520.973,530.1,1523.373,527.7,1520.973" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1510.0154">47</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="101.4" x="538.5" y="1510.0154">Entity entity = order.second()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1539.7477" y2="1539.7477"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1539.7477" y2="1547.5477"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1547.5477" y2="1547.5477"/><polygon fill="#181818" points="530.1,1545.1477,524.1,1547.5477,530.1,1549.9477,527.7,1547.5477" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1536.59">48</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="149.4" x="538.5" y="1536.59">Delivery delivery = new Delivery(entity, day)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1566.3223" y2="1566.3223"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1566.3223" y2="1574.1223"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1574.1223" y2="1574.1223"/><polygon fill="#181818" points="530.1,1571.7223,524.1,1574.1223,530.1,1576.5223,527.7,1574.1223" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1563.1646">49</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="164.4" x="538.5" y="1563.1646">double quantitySupplied = products.get(0).first()</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1592.8969" y2="1592.8969"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1592.8969" y2="1600.6969"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1600.6969" y2="1600.6969"/><polygon fill="#181818" points="530.1,1598.2969,524.1,1600.6969,530.1,1603.0969,527.7,1600.6969" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1589.7393">50</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="162.6" x="538.5" y="1589.7393">Productor productor = products.get(0).second()</text><path d="M408.3,1609.6969 L444.9,1609.6969 L444.9,1615.2715 L438.9,1621.2715 L408.3,1621.2715 L408.3,1609.6969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="315.6" x="408.3" y="1609.6969"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="1618.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="98.4" x="453.9" y="1618.0189">[(quantitySupplied &gt; quantity)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1635.2461" y2="1635.2461"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1635.2461" y2="1643.0461"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1643.0461" y2="1643.0461"/><polygon fill="#181818" points="530.1,1640.6461,524.1,1643.0461,530.1,1645.4461,527.7,1643.0461" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1632.0885">51</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="178.2" x="538.5" y="1632.0885">products.get(0).setFirst(quantitySupplied - quantity)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1661.8207" y2="1661.8207"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1661.8207" y2="1669.6207"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1669.6207" y2="1669.6207"/><polygon fill="#181818" points="530.1,1667.2207,524.1,1669.6207,530.1,1672.0207,527.7,1669.6207" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1658.6631">52</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="94.8" x="538.5" y="1658.6631">quantitySupplied = quantity</text><path d="M408.3,1682.8207 L444.9,1682.8207 L444.9,1688.3953 L438.9,1694.3953 L408.3,1694.3953 L408.3,1682.8207 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="234" x="408.3" y="1682.8207"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="1691.8377">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="102" x="453.9" y="1691.1428">[(quantitySupplied &lt;= quantity)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1708.3699" y2="1708.3699"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1708.3699" y2="1716.1699"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1716.1699" y2="1716.1699"/><polygon fill="#181818" points="530.1,1713.7699,524.1,1716.1699,530.1,1718.5699,527.7,1716.1699" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1705.2123">53</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="96.6" x="538.5" y="1705.2123">products.get(0).setFirst(0.0)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1734.9445" y2="1734.9445"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1734.9445" y2="1742.7445"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1742.7445" y2="1742.7445"/><polygon fill="#181818" points="530.1,1740.3445,524.1,1742.7445,530.1,1745.1445,527.7,1742.7445" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1731.7869">54</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="94.8" x="538.5" y="1731.7869">quantity = quantitySupplied</text><path d="M408.3,1755.9445 L444.9,1755.9445 L444.9,1761.5191 L438.9,1767.5191 L408.3,1767.5191 L408.3,1755.9445 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="64.7238" style="stroke:#000000;stroke-width:0.8999999999999999;" width="305.4" x="408.3" y="1755.9445"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="417.3" y="1764.9615">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="77.4" x="453.9" y="1764.2666">[(quantitySupplied != 0)]</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1781.4937" y2="1781.4937"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1781.4937" y2="1789.2938"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1789.2938" y2="1789.2938"/><polygon fill="#181818" points="530.1,1786.8938,524.1,1789.2938,530.1,1791.6938,527.7,1789.2938" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1778.3361">55</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="168" x="538.5" y="1778.3361">delivery.addProduct(product, productor, quantity)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1808.0684" y2="1808.0684"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1808.0684" y2="1815.8684"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1815.8684" y2="1815.8684"/><polygon fill="#181818" points="530.1,1813.4684,524.1,1815.8684,530.1,1818.2684,527.7,1815.8684" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1804.9107">56</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="132" x="538.5" y="1804.9107">expedition.addDelivery(delivery, entity)</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1838.843" y2="1838.843"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1838.843" y2="1846.643"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1846.643" y2="1846.643"/><polygon fill="#181818" points="530.1,1844.243,524.1,1846.643,530.1,1849.043,527.7,1846.643" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1835.6854">57</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="219.6" x="538.5" y="1835.6854">Collections.sort(products, Comparator.comparing(p -&gt; -p.first()))</text><line style="stroke:#181818;stroke-width:0.6;" x1="523.5" x2="548.7" y1="1873.8176" y2="1873.8176"/><line style="stroke:#181818;stroke-width:0.6;" x1="548.7" x2="548.7" y1="1873.8176" y2="1881.6176"/><line style="stroke:#181818;stroke-width:0.6;" x1="524.1" x2="548.7" y1="1881.6176" y2="1881.6176"/><polygon fill="#181818" points="530.1,1879.2176,524.1,1881.6176,530.1,1884.0176,527.7,1881.6176" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="527.7" y="1870.66">58</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="166.8" x="538.5" y="1870.66">expeditionStore.addExpedition(expedition, false)</text><polygon fill="#181818" points="209.7,1902.1922,203.7,1904.5922,209.7,1906.9922,207.3,1904.5922" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="206.1" x2="513.9" y1="1904.5922" y2="1904.5922"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="213.3" y="1901.4346">59</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="19.2" x="224.1" y="1901.4346">result</text><line style="stroke:#181818;stroke-width:0.6;" x1="203.1" x2="228.3" y1="1923.3668" y2="1923.3668"/><line style="stroke:#181818;stroke-width:0.6;" x1="228.3" x2="228.3" y1="1923.3668" y2="1931.1668"/><line style="stroke:#181818;stroke-width:0.6;" x1="203.7" x2="228.3" y1="1931.1668" y2="1931.1668"/><polygon fill="#181818" points="209.7,1928.7668,203.7,1931.1668,209.7,1933.5668,207.3,1931.1668" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="207.3" y="1920.2092">60</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="289.2" x="218.1" y="1920.2092">Expedition expedition = expeditionStore.getNoRestrictionsExpeditionMap().get(day)</text><polygon fill="#181818" points="53.1,1947.5414,47.1,1949.9414,53.1,1952.3414,50.7,1949.9414" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="49.5" x2="196.5" y1="1949.9414" y2="1949.9414"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="56.7" y="1946.7838">61</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="91.2" x="67.5" y="1946.7838">informs operation success</text><!--MD5=[afaabd77d3468745c615d101c7bbc0d8]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor user as "System User"

participant ":GenerateExpeditionsWithoutRestrictionsUi" as ui
participant ":GenerateExpeditionsWithoutRestrictionsController" as controller
participant "Entity" as entity
participant "EntityStore" as store
participant ":Organization" as organization
participant ":App" as app

activate user

user -> ui : requests to generate an expedition list
activate ui

ui - -> user : requests data (day)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : calculateExpeditions(day)
activate controller
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> controller : entityStore = organization.getEntityStore()
deactivate organization
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> controller : expeditionStore = organization.getExpeditionStore()
deactivate organization
controller -> controller : expeditionStore.getNoRestrictionsExpeditionMap().clear()
controller -> controller : deliverAllProductsAndOrdersToHubs()
activate controller
controller -> controller :  List<Productor> productors = entityStore.getProductorsList()
loop for (Productor productor : productors)
    controller -> controller : deliverProductsToHub(productor)
    activate controller
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Productor>>>>> stockMap = globalProductStore.getStockMap()
    controller -> controller : TreeMap<Integer, Basket> basketsMap = productor.getBasketsMap()
    loop for (Integer integer : basketsMap.keySet())
        controller -> controller : Basket basket = basketsMap.get(integer)
        loop (Pair<Product, Double> pair : basket.getProducts())
        controller -> controller : Product product = pair.first()
        controller -> controller : Double quantity = pair.second()
        alt (!stockMap.containsKey(integer))
            controller -> controller : stockMap.put(integer, new ArrayList<>())
        end
        controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> list = stockMap.get(integer)
        loop for (Pair<Product, List<Pair<Double, Productor>>> pair1 : list)
            alt (pair1.first().equals(product))
                controller->controller : List<Pair<Double, Productor>> list1 = pair1.second()
                controller->controller : list1.add(new Pair<>(quantity, productor))
            end
        end
        alt (!found)
            controller -> controller : List<Pair<Double, Productor>> list1 = new ArrayList<>()
            controller -> controller : list1.add(new Pair<>(quantity, productor))
            controller -> controller : list.add(new Pair<>(product, list1))
        end
        end
    end
    deactivate controller
    loop for (int i = 1; i <= day; i++)
    controller -> controller : Expedition expedition = calculateDayOrders(i)
    activate controller
    controller -> controller : Expedition expedition = new Expedition(day)
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Entity>>>>> orderMap = globalProductStore.getOrderMap()
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Productor>>>>> stockMap = globalProductStore.getStockMap()
    alt (orderMap.containsKey(day))
        controller -> controller : List<Pair<Product, List<Pair<Double, Entity>>>> dayOrders = orderMap.get(day)
        controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocks = stockMap.get(day)
        alt (day > 2)
            controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocksDayBeforeYesterday = stockMap.get(day - 2)
            controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocksYesterday = stockMap.get(day - 1)
            loop (int y = 0; y < dayStocks.size(); y++)
                controller -> controller : List<Pair<Double, Productor>> additionProducts1 = dayStocksYesterday.get(y).second()
                controller -> controller : List<Pair<Double, Productor>> additionProducts2 = dayStocksDayBeforeYesterday.get(y).second()
                controller -> controller : List<Pair<Double, Productor>> addedProducts = dayStocks.get(y).second()
                loop (int z = 0; z < addedProducts.size(); z++)
                    controller -> controller : Double sum = additionProducts1.get(z).first() + additionProducts2.get(z).first() + addedProducts.get(z).first()
                    controller -> controller : addedProducts.get(z).setFirst(sum)
                end
            end
        end
        loop for (Pair<Product, List<Pair<Double, Entity>>> orders: dayOrders)
            controller -> controller : List<Pair<Double, Productor>> products = new ArrayList<>()
            controller -> controller : Product product = orders.first()
            loop  for (int j = 0; j < dayStocks.size(); j++)
                alt (dayStocks.get(j).first().equals(product))
                    controller -> controller : products = dayStocks.get(j).second()
                end
            end
        controller -> controller : Collections.sort(products, Comparator.comparing(p -> -p.first()))
        controller -> controller : List<Pair<Double, Entity>> productOrders = orders.second()
        loop for (int i = 0; i < productOrders.size(); i++)
            controller -> controller : Pair<Double, Entity> order = productOrders.get(i)
            controller -> controller : double quantity = order.first()
            controller -> controller : Entity entity = order.second()
            controller -> controller : Delivery delivery = new Delivery(entity, day)
            controller -> controller : double quantitySupplied = products.get(0).first()
            controller -> controller : Productor productor = products.get(0).second()
            alt (quantitySupplied > quantity)
                controller -> controller : products.get(0).setFirst(quantitySupplied - quantity)
                controller -> controller : quantitySupplied = quantity
            end
            alt (quantitySupplied <= quantity)
                controller -> controller : products.get(0).setFirst(0.0)
                controller -> controller : quantity = quantitySupplied
            end
            alt (quantitySupplied != 0)
                controller -> controller : delivery.addProduct(product, productor, quantity)
                controller -> controller : expedition.addDelivery(delivery, entity)
            end
            controller -> controller : Collections.sort(products, Comparator.comparing(p -> -p.first()))
        end
    end
    controller -> controller : expeditionStore.addExpedition(expedition, false)
    end
    deactivate controller
    deactivate controller

controller - -> ui : result
deactivate controller
ui -> ui : Expedition expedition = expeditionStore.getNoRestrictionsExpeditionMap().get(day)
ui - -> user : informs operation success

@enduml

@startuml

autonumber

actor user as "System User"

participant ":GenerateExpeditionsWithoutRestrictionsUi" as ui
participant ":GenerateExpeditionsWithoutRestrictionsController" as controller
participant "Entity" as entity
participant "EntityStore" as store
participant ":Organization" as organization
participant ":App" as app

activate user

user -> ui : requests to generate an expedition list
activate ui

ui - -> user : requests data (day)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : calculateExpeditions(day)
activate controller
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> controller : entityStore = organization.getEntityStore()
deactivate organization
controller -> app : app = App.getInstance()
activate app
app -> organization : organization = app.getOrganization()
deactivate app
activate organization
organization -> controller : expeditionStore = organization.getExpeditionStore()
deactivate organization
controller -> controller : expeditionStore.getNoRestrictionsExpeditionMap().clear()
controller -> controller : deliverAllProductsAndOrdersToHubs()
activate controller
controller -> controller :  List<Productor> productors = entityStore.getProductorsList()
loop for (Productor productor : productors)
    controller -> controller : deliverProductsToHub(productor)
    activate controller
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Productor>>>>> stockMap = globalProductStore.getStockMap()
    controller -> controller : TreeMap<Integer, Basket> basketsMap = productor.getBasketsMap()
    loop for (Integer integer : basketsMap.keySet())
        controller -> controller : Basket basket = basketsMap.get(integer)
        loop (Pair<Product, Double> pair : basket.getProducts())
        controller -> controller : Product product = pair.first()
        controller -> controller : Double quantity = pair.second()
        alt (!stockMap.containsKey(integer))
            controller -> controller : stockMap.put(integer, new ArrayList<>())
        end
        controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> list = stockMap.get(integer)
        loop for (Pair<Product, List<Pair<Double, Productor>>> pair1 : list)
            alt (pair1.first().equals(product))
                controller->controller : List<Pair<Double, Productor>> list1 = pair1.second()
                controller->controller : list1.add(new Pair<>(quantity, productor))
            end
        end
        alt (!found)
            controller -> controller : List<Pair<Double, Productor>> list1 = new ArrayList<>()
            controller -> controller : list1.add(new Pair<>(quantity, productor))
            controller -> controller : list.add(new Pair<>(product, list1))
        end
        end
    end
    deactivate controller
    loop for (int i = 1; i <= day; i++)
    controller -> controller : Expedition expedition = calculateDayOrders(i)
    activate controller
    controller -> controller : Expedition expedition = new Expedition(day)
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Entity>>>>> orderMap = globalProductStore.getOrderMap()
    controller -> controller : TreeMap<Integer, List<Pair<Product, List<Pair<Double, Productor>>>>> stockMap = globalProductStore.getStockMap()
    alt (orderMap.containsKey(day))
        controller -> controller : List<Pair<Product, List<Pair<Double, Entity>>>> dayOrders = orderMap.get(day)
        controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocks = stockMap.get(day)
        alt (day > 2)
            controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocksDayBeforeYesterday = stockMap.get(day - 2)
            controller -> controller : List<Pair<Product, List<Pair<Double, Productor>>>> dayStocksYesterday = stockMap.get(day - 1)
            loop (int y = 0; y < dayStocks.size(); y++)
                controller -> controller : List<Pair<Double, Productor>> additionProducts1 = dayStocksYesterday.get(y).second()
                controller -> controller : List<Pair<Double, Productor>> additionProducts2 = dayStocksDayBeforeYesterday.get(y).second()
                controller -> controller : List<Pair<Double, Productor>> addedProducts = dayStocks.get(y).second()
                loop (int z = 0; z < addedProducts.size(); z++)
                    controller -> controller : Double sum = additionProducts1.get(z).first() + additionProducts2.get(z).first() + addedProducts.get(z).first()
                    controller -> controller : addedProducts.get(z).setFirst(sum)
                end
            end
        end
        loop for (Pair<Product, List<Pair<Double, Entity>>> orders: dayOrders)
            controller -> controller : List<Pair<Double, Productor>> products = new ArrayList<>()
            controller -> controller : Product product = orders.first()
            loop  for (int j = 0; j < dayStocks.size(); j++)
                alt (dayStocks.get(j).first().equals(product))
                    controller -> controller : products = dayStocks.get(j).second()
                end
            end
        controller -> controller : Collections.sort(products, Comparator.comparing(p -> -p.first()))
        controller -> controller : List<Pair<Double, Entity>> productOrders = orders.second()
        loop for (int i = 0; i < productOrders.size(); i++)
            controller -> controller : Pair<Double, Entity> order = productOrders.get(i)
            controller -> controller : double quantity = order.first()
            controller -> controller : Entity entity = order.second()
            controller -> controller : Delivery delivery = new Delivery(entity, day)
            controller -> controller : double quantitySupplied = products.get(0).first()
            controller -> controller : Productor productor = products.get(0).second()
            alt (quantitySupplied > quantity)
                controller -> controller : products.get(0).setFirst(quantitySupplied - quantity)
                controller -> controller : quantitySupplied = quantity
            end
            alt (quantitySupplied <= quantity)
                controller -> controller : products.get(0).setFirst(0.0)
                controller -> controller : quantity = quantitySupplied
            end
            alt (quantitySupplied != 0)
                controller -> controller : delivery.addProduct(product, productor, quantity)
                controller -> controller : expedition.addDelivery(delivery, entity)
            end
            controller -> controller : Collections.sort(products, Comparator.comparing(p -> -p.first()))
        end
    end
    controller -> controller : expeditionStore.addExpedition(expedition, false)
    end
    deactivate controller
    deactivate controller

controller - -> ui : result
deactivate controller
ui -> ui : Expedition expedition = expeditionStore.getNoRestrictionsExpeditionMap().get(day)
ui - -> user : informs operation success

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>