<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="916px" preserveAspectRatio="none" style="width:1507px;height:916px;background:#FFFFFF;" version="1.1" viewBox="0 0 1507 916" width="1507px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="736.375" style="stroke:#181818;stroke-width:1.0;" width="10" x="42.5" y="90.6406"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="111.1641"/><rect fill="#FFFFFF" height="658.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="168.2109"/><rect fill="#FFFFFF" height="592.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="675.5" y="196.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1093.5" y="225.2578"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1093.5" y="325.3047"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="425.3516"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="583.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="642.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1335" y="483.875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439.5" y="700.9688"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439.5" y="759.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="368.5" x2="368.5" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="680" x2="680" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1098" x2="1098" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1221" x2="1221" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1340" x2="1340" y1="80.6406" y2="836.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1444" x2="1444" y1="80.6406" y2="836.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="77.6738">System User</text><ellipse cx="47.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,21.5 L47.5,48.5 M34.5,29.5 L60.5,29.5 M47.5,48.5 L34.5,63.5 M47.5,48.5 L60.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5" y="847.6895">System User</text><ellipse cx="47.5" cy="859.1563" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,867.1563 L47.5,894.1563 M34.5,875.1563 L60.5,875.1563 M47.5,894.1563 L34.5,909.1563 M47.5,894.1563 L60.5,909.1563 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="236.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="243.5" y="69.6738">:GenerateExpeditionsWithRestrictionsUi</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="236.5" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="243.5" y="854.6895">:GenerateExpeditionsWithRestrictionsUi</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="575" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="582" y="69.6738">:CalculateExpeditionsController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="575" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="582" y="854.6895">:CalculateExpeditionsController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1057" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1064" y="69.6738">EntityStore</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1057" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1064" y="854.6895">EntityStore</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="1150" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1157" y="69.6738">Global ProductStore</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="1150" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1157" y="854.6895">Global ProductStore</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1302" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1309" y="69.6738">Productor</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1302" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1309" y="854.6895">Productor</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1388" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1395" y="69.6738">ExpeditionStore</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1388" y="835.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1395" y="854.6895">ExpeditionStore</text><rect fill="#FFFFFF" height="736.375" style="stroke:#181818;stroke-width:1.0;" width="10" x="42.5" y="90.6406"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="111.1641"/><rect fill="#FFFFFF" height="658.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="168.2109"/><rect fill="#FFFFFF" height="592.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="675.5" y="196.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1093.5" y="225.2578"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1093.5" y="325.3047"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="425.3516"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="583.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="642.4453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1335" y="483.875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439.5" y="700.9688"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439.5" y="759.4922"/><polygon fill="#181818" points="351.5,107.1641,361.5,111.1641,351.5,115.1641,355.5,111.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="357.5" y1="111.1641" y2="111.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59.5" y="106.4092">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="70.5" y="106.4092">import entities data</text><polygon fill="#181818" points="63.5,135.6875,53.5,139.6875,63.5,143.6875,59.5,139.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="367.5" y1="139.6875" y2="139.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69.5" y="134.9326">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="80.5" y="134.9326">requests data (day and n productores agricolas)</text><polygon fill="#181818" points="351.5,164.2109,361.5,168.2109,351.5,172.2109,355.5,168.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="357.5" y1="168.2109" y2="168.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59.5" y="163.4561">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="70.5" y="163.4561">inputs requested data</text><polygon fill="#181818" points="663.5,192.7344,673.5,196.7344,663.5,200.7344,667.5,196.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373.5" x2="669.5" y1="196.7344" y2="196.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="380.5" y="191.9795">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="391.5" y="191.9795">calculateExpeditions(day, numberOfProducers)</text><polygon fill="#181818" points="1081.5,221.2578,1091.5,225.2578,1081.5,229.2578,1085.5,225.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1087.5" y1="225.2578" y2="225.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="692.5" y="220.5029">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378" x="703.5" y="220.5029">noRestrictionsExpeditionMap =getNoRestrictionsExpeditionMap()</text><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="727.5" y1="283.7813" y2="283.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="727.5" x2="727.5" y1="283.7813" y2="296.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="686.5" x2="727.5" y1="296.7813" y2="296.7813"/><polygon fill="#181818" points="696.5,292.7813,686.5,296.7813,696.5,300.7813,692.5,296.7813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="692.5" y="279.0264">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="703.5" y="279.0264">deliverAllProductsAndOrdersToHubs()</text><polygon fill="#181818" points="1081.5,321.3047,1091.5,325.3047,1081.5,329.3047,1085.5,325.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1087.5" y1="325.3047" y2="325.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="692.5" y="320.5498">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="703.5" y="320.5498">productorsList=getProductorsList()</text><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="727.5" y1="383.8281" y2="383.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="727.5" x2="727.5" y1="383.8281" y2="396.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="686.5" x2="727.5" y1="396.8281" y2="396.8281"/><polygon fill="#181818" points="696.5,392.8281,686.5,396.8281,696.5,400.8281,692.5,396.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="692.5" y="379.0732">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="703.5" y="379.0732">deliverProductsToHub(productor)</text><polygon fill="#181818" points="1204,421.3516,1214,425.3516,1204,429.3516,1208,425.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1210" y1="425.3516" y2="425.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="692.5" y="420.5967">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="703.5" y="420.5967">stockMap=getStockMap()</text><polygon fill="#181818" points="1323,479.875,1333,483.875,1323,487.875,1327,483.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1329" y1="483.875" y2="483.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="479.1201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="710.5" y="479.1201">basketsMap:=getBasketsMap()</text><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="727.5" y1="542.3984" y2="542.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="727.5" x2="727.5" y1="542.3984" y2="555.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="686.5" x2="727.5" y1="555.3984" y2="555.3984"/><polygon fill="#181818" points="696.5,551.3984,686.5,555.3984,696.5,559.3984,692.5,555.3984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="537.6436">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="710.5" y="537.6436">expedition=calculateDayOrders(i)</text><polygon fill="#181818" points="1204,579.9219,1214,583.9219,1204,587.9219,1208,583.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1210" y1="583.9219" y2="583.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="579.167">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="710.5" y="579.167">orderMap=getOrderMap()</text><polygon fill="#181818" points="1204,638.4453,1214,642.4453,1204,646.4453,1208,642.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1210" y1="642.4453" y2="642.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="637.6904">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="710.5" y="637.6904">stockMap=getStockMap()</text><polygon fill="#181818" points="1427.5,696.9688,1437.5,700.9688,1427.5,704.9688,1431.5,700.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1433.5" y1="700.9688" y2="700.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="696.2139">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="710.5" y="696.2139">addExpedition(expedition, false)</text><polygon fill="#181818" points="1427.5,755.4922,1437.5,759.4922,1427.5,763.4922,1431.5,759.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="685.5" x2="1433.5" y1="759.4922" y2="759.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="692.5" y="754.7373">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="710.5" y="754.7373">expeditionMap = getExpeditionMap().get(day)</text><polygon fill="#181818" points="63.5,814.0156,53.5,818.0156,63.5,822.0156,59.5,818.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57.5" x2="362.5" y1="818.0156" y2="818.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69.5" y="813.2607">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="87.5" y="813.2607">informs operation success</text><!--MD5=[83880f71b2e8074fedbab9ab53c4b77c]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor user as "System User"

participant ":GenerateExpeditionsWithRestrictionsUi" as ui
participant ":CalculateExpeditionsController" as controller
participant "EntityStore" as store
participant "Global ProductStore" as gstore
participant "Productor" as prod
participant "ExpeditionStore" as exstore


activate user

user -> ui : import entities data
activate ui

ui - -> user : requests data (day and n productores agricolas)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : calculateExpeditions(day, numberOfProducers)
activate controller
controller -> store : noRestrictionsExpeditionMap =getNoRestrictionsExpeditionMap()
activate store
deactivate store
controller -> controller :deliverAllProductsAndOrdersToHubs()
controller -> store : productorsList=getProductorsList()
activate store
deactivate store
controller -> controller : deliverProductsToHub(productor)
controller -> gstore: stockMap=getStockMap()
activate gstore
deactivate gstore
controller ->prod: basketsMap:=getBasketsMap()
activate prod
deactivate prod
controller ->controller : expedition=calculateDayOrders(i)
controller -> gstore:orderMap=getOrderMap()
activate gstore
deactivate gstore
controller -> gstore:stockMap=getStockMap()
activate gstore
deactivate gstore
controller -> exstore:addExpedition(expedition, false)
activate exstore
deactivate exstore
controller-> exstore:expeditionMap = getExpeditionMap().get(day)
activate exstore
deactivate exstore


deactivate controller
ui - -> user : informs operation success

@enduml

@startuml

autonumber

actor user as "System User"

participant ":GenerateExpeditionsWithRestrictionsUi" as ui
participant ":CalculateExpeditionsController" as controller
participant "EntityStore" as store
participant "Global ProductStore" as gstore
participant "Productor" as prod
participant "ExpeditionStore" as exstore


activate user

user -> ui : import entities data
activate ui

ui - -> user : requests data (day and n productores agricolas)
deactivate ui
user -> ui : inputs requested data
activate ui
ui -> controller : calculateExpeditions(day, numberOfProducers)
activate controller
controller -> store : noRestrictionsExpeditionMap =getNoRestrictionsExpeditionMap()
activate store
deactivate store
controller -> controller :deliverAllProductsAndOrdersToHubs()
controller -> store : productorsList=getProductorsList()
activate store
deactivate store
controller -> controller : deliverProductsToHub(productor)
controller -> gstore: stockMap=getStockMap()
activate gstore
deactivate gstore
controller ->prod: basketsMap:=getBasketsMap()
activate prod
deactivate prod
controller ->controller : expedition=calculateDayOrders(i)
controller -> gstore:orderMap=getOrderMap()
activate gstore
deactivate gstore
controller -> gstore:stockMap=getStockMap()
activate gstore
deactivate gstore
controller -> exstore:addExpedition(expedition, false)
activate exstore
deactivate exstore
controller-> exstore:expeditionMap = getExpeditionMap().get(day)
activate exstore
deactivate exstore


deactivate controller
ui - -> user : informs operation success

@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>